# 基金搜索与界面优化日志

## 📅 2026-02-03 UI/UX 体验升级

### 1. 🖥 界面布局优化

#### 需求
- 关注列表太窄，长基金名称被截断。
- 搜索框位于列表底部，操作不够便捷。
- 内容过多时页面被拉得很长，需要滚动整个页面。

#### 解决方案
- **拓宽关注列表**：栅格占比从 `3/12` 调整为 **`4/12`**（约增加 33% 宽度），详情页相应调整为 `8/12`。
- **搜索框置顶**：将搜索组件移至关注列表卡片的最上方，无需滚动到底部即可添加基金。
- **固定高度与滚动**：
  - **关注列表**：设置高度为 `calc(100vh - 12rem)`，支持内部滚动，适应屏幕高度。
  - **持仓归因表格**：设置最大高度 `500px`，支持内部滚动，表头固定（sticky header），方便查看大量持仓数据。

### 2. 🔍 搜索逻辑优化（之前的更新）

- **后端 API 修复**：替换 `fund_open_fund_info_em` 为 `fund_name_em`，支持全市场基金搜索。
- **防抖优化**：输入延迟增加至 500ms，并添加 AbortController 取消旧请求，彻底解决闪烁和竞态问题。
- **交互完善**：Enter 键逻辑优化，防止误添加。

### 3. ✅ 验证清单

- [x] **关注列表宽度**：长基金名称显示更完整。
- [x] **搜索体验**：在列表顶部直接搜索，结果清晰。
- [x] **滚动体验**：列表和表格均可在固定区域内滚动，主页面布局保持稳定。
- [x] **表头固定**：滚动表格时表头始终可见。
